<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favoritos</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <style>
        :root { --tech-purple: #2E1A47; --deep-purple: #1a0f2e; --neon-mint: #69FFC2; --pure-white: #FFFFFF; --gray-text: #a0a0b0; --warning-red: #ff4757; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background-color: var(--deep-purple); color: var(--pure-white); height: 100vh; display: flex; overflow: hidden; }

        .main-content { flex-grow: 1; padding: 30px; overflow-y: auto; background-image: radial-gradient(circle at 90% 10%, rgba(105, 255, 194, 0.05), transparent 40%); }
        .header-dashboard { margin-bottom: 20px; }
        .page-title h1 { font-size: 1.8rem; font-weight: 700; }
        .page-title p { color: var(--gray-text); margin-top: 5px; font-size: 0.9rem; }

        .fav-container { display: flex; flex-direction: column; gap: 20px; height: 100%; }
        
        /* Topo: Explorar */
        .fav-top { flex: 1; background: rgba(0,0,0,0.1); padding: 15px; border-radius: 15px; display: flex; flex-direction: column; border: 1px solid rgba(255,255,255,0.05); min-height: 300px; }
        .fav-search-bar { width: 100%; padding: 10px 15px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05); color: white; outline: none; margin-bottom: 15px; font-size: 0.9rem; }
        .fav-search-bar:focus { border-color: var(--neon-mint); }
        
        .fav-results-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; overflow-y: auto; height: 100%; padding-right: 5px; }
        .fav-results-grid::-webkit-scrollbar { width: 4px; }
        .fav-results-grid::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 2px; }

        /* Divisor */
        .fav-divider { border-bottom: 2px dashed rgba(255,255,255,0.15); position: relative; text-align: center; margin: 10px 0; }
        .fav-divider span { background-color: var(--deep-purple); padding: 0 15px; color: var(--neon-mint); font-size: 0.8rem; font-weight: 700; position: relative; top: 10px; letter-spacing: 1px; }

        /* Bottom */
        .fav-bottom { flex: 1; padding: 10px 0; }
        .my-fav-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; }

        /* Card */
        .fav-card { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 12px; text-align: left; border: 1px solid transparent; transition: 0.3s; position: relative; display: flex; flex-direction: column; align-items: flex-start; gap: 8px; }
        .fav-card:hover { border-color: var(--neon-mint); background: rgba(255,255,255,0.08); }
        .fav-card-icon { font-size: 1.8rem; color: var(--gray-text); background: rgba(255,255,255,0.05); padding: 8px; border-radius: 8px; }
        .fav-card-info h4 { font-size: 0.85rem; margin-bottom: 2px; color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 100%; }
        .fav-card-info p { font-size: 0.75rem; color: var(--neon-mint); font-weight: bold; }
        .btn-fav-action { position: absolute; top: 10px; right: 10px; background: none; border: none; cursor: pointer; transition: transform 0.2s; }
        .btn-fav-action:hover { transform: scale(1.1); }
        .btn-fav-action .material-icons { font-size: 1.3rem; color: rgba(255,255,255,0.3); }
        .btn-fav-action.liked .material-icons { color: var(--warning-red); }
    </style>
</head>
<body>
    <main class="main-content">
        <div class="header-dashboard">
            <div class="page-title"><h1>Favoritos</h1><p>Gerencie seus itens.</p></div>
        </div>
        
        <div class="fav-container">
            <div class="fav-top">
                <h3 style="margin-bottom:10px; font-size:1rem; color:var(--neon-mint);">Explorar Medicamentos</h3>
                <input type="text" id="favSearchInput" class="fav-search-bar" placeholder="Digite para buscar...">
                <div id="favSearchResults" class="fav-results-grid"></div>
            </div>

            <div class="fav-divider"><span>ITENS SALVOS</span></div>

            <div class="fav-bottom">
                <div id="myFavList" class="my-fav-grid"></div>
            </div>
        </div>
    </main>

    <script>
        // BANCO DE DADOS
        const allMedicines = [
            { id: 1, name: 'Dorflex Uno', price: '24,90', icon: 'medication' },
            { id: 2, name: 'Neosaldina', price: '19,50', icon: 'medication_liquid' },
            { id: 3, name: 'Torsilax', price: '17,90', icon: 'healing' },
            { id: 4, name: 'Advil', price: '32,90', icon: 'medication' },
            { id: 5, name: 'Paracetamol', price: '8,50', icon: 'local_hospital' },
            { id: 6, name: 'Benegrip', price: '21,90', icon: 'sick' },
            { id: 7, name: 'Cimegripe', price: '14,90', icon: 'medical_services' },
            { id: 8, name: 'Vick Vaporub', price: '25,00', icon: 'sanitizer' },
            { id: 9, name: 'Vitamina C', price: '10,90', icon: 'wb_sunny' },
            { id: 10, name: 'Allegra', price: '65,90', icon: 'masks' },
            { id: 11, name: 'Eno SachÃª', price: '5,50', icon: 'water_drop' },
            { id: 12, name: 'Buscopan', price: '22,00', icon: 'medication' },
            { id: 13, name: 'Omeprazol', price: '28,00', icon: 'medication' },
            { id: 14, name: 'Luftal', price: '19,90', icon: 'air' },
            { id: 15, name: 'Amoxicilina', price: '45,00', icon: 'vaccines' },
            { id: 16, name: 'Rivotril', price: '15,20', icon: 'lock' },
            { id: 17, name: 'Dipirona', price: '7,50', icon: 'science' },
            { id: 18, name: 'Ibuprofeno', price: '12,00', icon: 'medication' },
            { id: 19, name: 'Loratadina', price: '15,50', icon: 'masks' },
            { id: 20, name: 'Dramin', price: '18,00', icon: 'airplanemode_active' },
            { id: 21, name: 'Salonpas', price: '11,00', icon: 'healing' },
            { id: 22, name: 'Engov', price: '5,00', icon: 'water_drop' },
            { id: 23, name: 'Epocler', price: '8,00', icon: 'liquor' },
            { id: 24, name: 'Rinosoro', price: '16,50', icon: 'water' },
            { id: 25, name: 'Sorine', price: '14,00', icon: 'water' },
            { id: 26, name: 'Tylenol', price: '22,00', icon: 'medication' },
            { id: 27, name: 'Aspirina', price: '9,50', icon: 'science' },
            { id: 28, name: 'Novalgina', price: '19,00', icon: 'medication' },
            { id: 29, name: 'Histamin', price: '13,00', icon: 'masks' },
            { id: 30, name: 'Cewin', price: '11,50', icon: 'wb_sunny' }
        ];

        // Estado Favoritos
        let myFavIds = [1, 9, 11];

        document.addEventListener('DOMContentLoaded', function() {
            renderAllLists();
            document.getElementById('favSearchInput').addEventListener('input', function() {
                renderExploreList(this.value);
            });
        });

        function renderAllLists() {
            renderExploreList(document.getElementById('favSearchInput').value);
            renderMyFavorites();
        }

        function renderExploreList(searchTerm = '') {
            const container = document.getElementById('favSearchResults');
            container.innerHTML = '';
            const term = searchTerm.toLowerCase();
            
            const filtered = allMedicines.filter(m => 
                !myFavIds.includes(m.id) && 
                (term === '' || m.name.toLowerCase().includes(term))
            );

            filtered.forEach(item => {
                const card = document.createElement('div');
                card.className = 'fav-card';
                card.innerHTML = `
                    <div class="fav-card-icon"><span class="material-icons">${item.icon}</span></div>
                    <div class="fav-card-info"><h4>${item.name}</h4><p>R$ ${item.price}</p></div>
                    <button class="btn-fav-action" onclick="addToFav(${item.id})" title="Favoritar">
                        <span class="material-icons">favorite_border</span>
                    </button>
                `;
                container.appendChild(card);
            });
        }

        function renderMyFavorites() {
            const container = document.getElementById('myFavList');
            container.innerHTML = '';
            if (myFavIds.length === 0) {
                container.innerHTML = '<p style="color:grey; padding:10px;">Nenhum favorito.</p>';
                return;
            }
            myFavIds.forEach(id => {
                const item = allMedicines.find(m => m.id === id);
                if(item) {
                    const card = document.createElement('div');
                    card.className = 'fav-card';
                    card.style.borderColor = 'var(--neon-mint)';
                    card.innerHTML = `
                        <div class="fav-card-icon"><span class="material-icons">${item.icon}</span></div>
                        <div class="fav-card-info"><h4>${item.name}</h4><p>R$ ${item.price}</p></div>
                        <button class="btn-fav-action liked" onclick="removeFromFav(${item.id})" title="Remover">
                            <span class="material-icons">favorite</span>
                        </button>
                    `;
                    container.appendChild(card);
                }
            });
        }

        window.addToFav = function(id) { if(!myFavIds.includes(id)) { myFavIds.push(id); renderAllLists(); } }
        window.removeFromFav = function(id) { myFavIds = myFavIds.filter(favId => favId !== id); renderAllLists(); }
    </script>
</body>
</html>